<h2>Historial de compras</h2>

<!-- Muestra mientras se cargan -->
<div *ngIf="isCargando" class="loading">
  <p>Cargando historial...</p>
</div>

<!-- Muestra si ya cargó y está vacío -->
<div *ngIf="!isCargando && compras.length === 0" class="empty">
  <p>No hay compras registradas.</p>
</div>

<!-- Muestra si ya cargó y hay datos -->
<div *ngIf="!isCargando && compras.length > 0">
  <div *ngFor="let compra of compras" class="card p-3 mb-3 shadow-sm border rounded">
    <div class="card-header">
      Boleta #{{ compra.id }}
    </div>
    <div class="card-body">
      <p><strong>Fecha:</strong> {{ compra.fecha | date: 'medium' }}</p>
      <p><strong>Total:</strong> {{ compra.total | currency: 'CLP' }}</p>

      <ul class="list-group">
        <li class="list-group-item" *ngFor="let producto of compra.productos">
          {{ producto.nombreProducto }} - {{ producto.precioUnitario | currency: 'CLP' }}
        </li>
      </ul>
    </div>
  </div>
</div>
